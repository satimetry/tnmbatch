Check jenkins server application status ...
Jenkins Application is starting
RESULT:
jenkins started
Check jenkins client application status ...
Jenkins Client is already started
Check nudge database application status ...
Nudge Database Application is starting
RESULT:
nudgedb started
Check nudge client application status ...
Nudge Client Application is already started
Check nudge server application status ...
Nudge Server Application is already started
Do GAS ...
Loading required package: methods
Loading required package: bitops
[1] "--->APPLYNUDGES: 7-gas11"

> Sys.setenv(NOAWT = "true")

> library(rjson)

> userobsDF <- getUserobsDF(rooturl, programid, userid, 
+     obsname)

> userobss <- getUserobs(rooturl, programid, userid, 
+     obsname)

> delFact(rooturl, programid, groupid = userid, factname = obsname)
[1] ""

> postFact(rooturl, programid, groupid = userid, factname = obsname, 
+     userobsDF)
[1] "Posting fact-->{ \"username\": 7 , \"obsname\": gas11 , \"obsdate\": \"2014-03-22 14:21:21\" , \"obsvalue\": 1 , \"obsdesc\": \"Generated using R sysbatch procedure\" }"
[1] "Posting fact-->{ \"username\": 7 , \"obsname\": gas11 , \"obsdate\": \"2014-03-25 08:17:44\" , \"obsvalue\": -2 , \"obsdesc\": \"Generated using R sysbatch procedure\" }"
[1] "Posting fact-->{ \"username\": 7 , \"obsname\": gas11 , \"obsdate\": \"2014-04-19 22:01:37\" , \"obsvalue\": 1 , \"obsdesc\": \"Generated using R sysbatch procedure\" }"
[1] "Posting fact-->{ \"username\": 7 , \"obsname\": gas11 , \"obsdate\": \"2014-04-20 18:46:07\" , \"obsvalue\": 2 , \"obsdesc\": \"Generated using R sysbatch procedure\" }"
[1] "Posting fact-->{ \"username\": 7 , \"obsname\": gas11 , \"obsdate\": \"2014-04-20 18:46:17\" , \"obsvalue\": -1 , \"obsdesc\": \"Generated using R sysbatch procedure\" }"
[1] "Posting fact-->{ \"username\": 7 , \"obsname\": gas11 , \"obsdate\": \"2014-04-20 18:46:28\" , \"obsvalue\": 0 , \"obsdesc\": \"Generated using R sysbatch procedure\" }"
[1] "Posting fact-->{ \"username\": 7 , \"obsname\": gas11 , \"obsdate\": \"2014-04-20 18:46:28\" , \"obsvalue\": 0 , \"obsdesc\": \"Generated using R sysbatch procedure\" }"

> getNudge(rooturl, programid, groupid = userid, factname = obsname, 
+     rulename = rulename)
[1] "[]"

> factouts <- getFactsystem(rooturl, programid, groupid = userid, 
+     factname = obsname)

> outputDF = c()

> for (factout in factouts) {
+     outputDF <- cbind(outputDF, c(id = fromJSON(factout$factjson)$id, 
+         rulename = fromJSON(factout$factjson) .... [TRUNCATED] 

> outputDF = data.frame(t(outputDF))
Error in t.default(outputDF) : argument is not a matrix
Calls: source ... withVisible -> eval -> eval -> data.frame -> t -> t.default
Execution halted
Do fitbit ...
Loading required package: methods
Loading required package: bitops
[1] "--->INSERTOBS --7"

> Sys.setenv(NOAWT = "true")

> library(httr)

> library(rjson)

> library("RCurl")

> user <- getUser(rooturl, userid)

> username <- user["username"]

> pushoveruser <- user["pushoveruser"]

> fitbitkey <- user["fitbitkey"]

> fitbitsecret <- user["fitbitsecret"]

> fitbitappname <- user["fitbitappname"]

> if (!is.na(fitbitkey)) {
+     token_url <- "http://api.fitbit.com/oauth/request_token"
+     access_url <- "http://api.fitbit.com/oauth/access_toke ..." ... [TRUNCATED] 
[1] "Posting userobs-->{ \"programid\" :1, \"userid\" :7, \"obsname\" :\"activity\", \"obsvalue\" :0, \"obsdesc\" :\"System generated from fitbit.com stepcount download\", \"obsdate\" :\"2014-09-14\", \"obstype\" : \"userobs\" }"
[1] "Posting userobs-->{ \"programid\" :1, \"userid\" :7, \"obsname\" :\"activity\", \"obsvalue\" :8638, \"obsdesc\" :\"System generated from fitbit.com stepcount download\", \"obsdate\" :\"2014-09-15\", \"obstype\" : \"userobs\" }"
[1] "Posting userobs-->{ \"programid\" :1, \"userid\" :7, \"obsname\" :\"activity\", \"obsvalue\" :10931, \"obsdesc\" :\"System generated from fitbit.com stepcount download\", \"obsdate\" :\"2014-09-16\", \"obstype\" : \"userobs\" }"
[1] "Posting userobs-->{ \"programid\" :1, \"userid\" :7, \"obsname\" :\"activity\", \"obsvalue\" :7828, \"obsdesc\" :\"System generated from fitbit.com stepcount download\", \"obsdate\" :\"2014-09-17\", \"obstype\" : \"userobs\" }"
[1] "Posting userobs-->{ \"programid\" :1, \"userid\" :7, \"obsname\" :\"activity\", \"obsvalue\" :10536, \"obsdesc\" :\"System generated from fitbit.com stepcount download\", \"obsdate\" :\"2014-09-18\", \"obstype\" : \"userobs\" }"
[1] "Posting userobs-->{ \"programid\" :1, \"userid\" :7, \"obsname\" :\"activity\", \"obsvalue\" :16672, \"obsdesc\" :\"System generated from fitbit.com stepcount download\", \"obsdate\" :\"2014-09-19\", \"obstype\" : \"userobs\" }"
[1] "Posting userobs-->{ \"programid\" :1, \"userid\" :7, \"obsname\" :\"activity\", \"obsvalue\" :7133, \"obsdesc\" :\"System generated from fitbit.com stepcount download\", \"obsdate\" :\"2014-09-20\", \"obstype\" : \"userobs\" }"
[1] "Posting userobs-->{ \"programid\" :1, \"userid\" :7, \"obsname\" :\"activity\", \"obsvalue\" :12829, \"obsdesc\" :\"System generated from fitbit.com stepcount download\", \"obsdate\" :\"2014-09-21\", \"obstype\" : \"userobs\" }"
[1] "Posting userobs-->{ \"programid\" :1, \"userid\" :7, \"obsname\" :\"activity\", \"obsvalue\" :7669, \"obsdesc\" :\"System generated from fitbit.com stepcount download\", \"obsdate\" :\"2014-09-22\", \"obstype\" : \"userobs\" }"
[1] "Posting userobs-->{ \"programid\" :1, \"userid\" :7, \"obsname\" :\"activity\", \"obsvalue\" :7261, \"obsdesc\" :\"System generated from fitbit.com stepcount download\", \"obsdate\" :\"2014-09-23\", \"obstype\" : \"userobs\" }"
[1] "Posting userobs-->{ \"programid\" :1, \"userid\" :7, \"obsname\" :\"activity\", \"obsvalue\" :10323, \"obsdesc\" :\"System generated from fitbit.com stepcount download\", \"obsdate\" :\"2014-09-24\", \"obstype\" : \"userobs\" }"
[1] "Posting userobs-->{ \"programid\" :1, \"userid\" :7, \"obsname\" :\"activity\", \"obsvalue\" :5073, \"obsdesc\" :\"System generated from fitbit.com stepcount download\", \"obsdate\" :\"2014-09-25\", \"obstype\" : \"userobs\" }"
[1] "Posting userobs-->{ \"programid\" :1, \"userid\" :7, \"obsname\" :\"activity\", \"obsvalue\" :11189, \"obsdesc\" :\"System generated from fitbit.com stepcount download\", \"obsdate\" :\"2014-09-26\", \"obstype\" : \"userobs\" }"
[1] "Posting userobs-->{ \"programid\" :1, \"userid\" :7, \"obsname\" :\"activity\", \"obsvalue\" :10376, \"obsdesc\" :\"System generated from fitbit.com stepcount download\", \"obsdate\" :\"2014-09-27\", \"obstype\" : \"userobs\" }"
[1] "Posting userobs-->{ \"programid\" :1, \"userid\" :7, \"obsname\" :\"activity\", \"obsvalue\" :10599, \"obsdesc\" :\"System generated from fitbit.com stepcount download\", \"obsdate\" :\"2014-09-28\", \"obstype\" : \"userobs\" }"
[1] "Posting userobs-->{ \"programid\" :1, \"userid\" :7, \"obsname\" :\"activity\", \"obsvalue\" :16329, \"obsdesc\" :\"System generated from fitbit.com stepcount download\", \"obsdate\" :\"2014-09-29\", \"obstype\" : \"userobs\" }"
[1] "Posting userobs-->{ \"programid\" :1, \"userid\" :7, \"obsname\" :\"activity\", \"obsvalue\" :19377, \"obsdesc\" :\"System generated from fitbit.com stepcount download\", \"obsdate\" :\"2014-09-30\", \"obstype\" : \"userobs\" }"
[1] "Posting userobs-->{ \"programid\" :1, \"userid\" :7, \"obsname\" :\"activity\", \"obsvalue\" :8798, \"obsdesc\" :\"System generated from fitbit.com stepcount download\", \"obsdate\" :\"2014-10-01\", \"obstype\" : \"userobs\" }"
[1] "Posting userobs-->{ \"programid\" :1, \"userid\" :7, \"obsname\" :\"activity\", \"obsvalue\" :13819, \"obsdesc\" :\"System generated from fitbit.com stepcount download\", \"obsdate\" :\"2014-10-02\", \"obstype\" : \"userobs\" }"
[1] "Posting userobs-->{ \"programid\" :1, \"userid\" :7, \"obsname\" :\"activity\", \"obsvalue\" :10157, \"obsdesc\" :\"System generated from fitbit.com stepcount download\", \"obsdate\" :\"2014-10-03\", \"obstype\" : \"userobs\" }"
[1] "Posting userobs-->{ \"programid\" :1, \"userid\" :7, \"obsname\" :\"activity\", \"obsvalue\" :16692, \"obsdesc\" :\"System generated from fitbit.com stepcount download\", \"obsdate\" :\"2014-10-04\", \"obstype\" : \"userobs\" }"
[1] "Posting userobs-->{ \"programid\" :1, \"userid\" :7, \"obsname\" :\"activity\", \"obsvalue\" :10640, \"obsdesc\" :\"System generated from fitbit.com stepcount download\", \"obsdate\" :\"2014-10-05\", \"obstype\" : \"userobs\" }"
[1] "Posting userobs-->{ \"programid\" :1, \"userid\" :7, \"obsname\" :\"activity\", \"obsvalue\" :10003, \"obsdesc\" :\"System generated from fitbit.com stepcount download\", \"obsdate\" :\"2014-10-06\", \"obstype\" : \"userobs\" }"
[1] "Posting userobs-->{ \"programid\" :1, \"userid\" :7, \"obsname\" :\"activity\", \"obsvalue\" :11155, \"obsdesc\" :\"System generated from fitbit.com stepcount download\", \"obsdate\" :\"2014-10-07\", \"obstype\" : \"userobs\" }"
[1] "Posting userobs-->{ \"programid\" :1, \"userid\" :7, \"obsname\" :\"activity\", \"obsvalue\" :7977, \"obsdesc\" :\"System generated from fitbit.com stepcount download\", \"obsdate\" :\"2014-10-08\", \"obstype\" : \"userobs\" }"
[1] "Posting userobs-->{ \"programid\" :1, \"userid\" :7, \"obsname\" :\"activity\", \"obsvalue\" :13785, \"obsdesc\" :\"System generated from fitbit.com stepcount download\", \"obsdate\" :\"2014-10-09\", \"obstype\" : \"userobs\" }"
[1] "Posting userobs-->{ \"programid\" :1, \"userid\" :7, \"obsname\" :\"activity\", \"obsvalue\" :9711, \"obsdesc\" :\"System generated from fitbit.com stepcount download\", \"obsdate\" :\"2014-10-10\", \"obstype\" : \"userobs\" }"
[1] "Posting userobs-->{ \"programid\" :1, \"userid\" :7, \"obsname\" :\"activity\", \"obsvalue\" :8140, \"obsdesc\" :\"System generated from fitbit.com stepcount download\", \"obsdate\" :\"2014-10-11\", \"obstype\" : \"userobs\" }"
[1] "Posting userobs-->{ \"programid\" :1, \"userid\" :7, \"obsname\" :\"activity\", \"obsvalue\" :11485, \"obsdesc\" :\"System generated from fitbit.com stepcount download\", \"obsdate\" :\"2014-10-12\", \"obstype\" : \"userobs\" }"
[1] "Posting userobs-->{ \"programid\" :1, \"userid\" :7, \"obsname\" :\"activity\", \"obsvalue\" :7066, \"obsdesc\" :\"System generated from fitbit.com stepcount download\", \"obsdate\" :\"2014-10-13\", \"obstype\" : \"userobs\" }"
[1] "Posting userobs-->{ \"programid\" :1, \"userid\" :7, \"obsname\" :\"activity\", \"obsvalue\" :16996, \"obsdesc\" :\"System generated from fitbit.com stepcount download\", \"obsdate\" :\"2014-10-14\", \"obstype\" : \"userobs\" }"
[1] "Posting userobs-->{ \"programid\" :1, \"userid\" :7, \"obsname\" :\"activity\", \"obsvalue\" :0, \"obsdesc\" :\"System generated from fitbit.com stepcount download\", \"obsdate\" :\"2014-10-15\", \"obstype\" : \"userobs\" }"
[1] "--->APPLYNUDGES --7"

> Sys.setenv(NOAWT = "true")

> library(rjson)

> userobsDF <- getUserobsDF(rooturl, programid, userid, 
+     obsname)

> userobss <- getUserobs(rooturl, programid, userid, 
+     obsname)

> delFact(rooturl, programid, groupid = userid, factname = obsname)
[1] ""

> postFact(rooturl, programid, groupid = userid, factname = obsname, 
+     userobsDF)
[1] "Posting fact-->{ \"username\": 7 , \"obsname\": activity , \"obsdate\": \"2014-09-14 10:00:00\" , \"obsvalue\": 0 , \"obsdesc\": \"Generated using R sysbatch procedure\" }"
[1] "Posting fact-->{ \"username\": 7 , \"obsname\": activity , \"obsdate\": \"2014-09-15 10:00:00\" , \"obsvalue\": 8638 , \"obsdesc\": \"Generated using R sysbatch procedure\" }"
[1] "Posting fact-->{ \"username\": 7 , \"obsname\": activity , \"obsdate\": \"2014-09-16 10:00:00\" , \"obsvalue\": 10931 , \"obsdesc\": \"Generated using R sysbatch procedure\" }"
[1] "Posting fact-->{ \"username\": 7 , \"obsname\": activity , \"obsdate\": \"2014-09-17 10:00:00\" , \"obsvalue\": 7828 , \"obsdesc\": \"Generated using R sysbatch procedure\" }"
[1] "Posting fact-->{ \"username\": 7 , \"obsname\": activity , \"obsdate\": \"2014-09-18 10:00:00\" , \"obsvalue\": 10536 , \"obsdesc\": \"Generated using R sysbatch procedure\" }"
[1] "Posting fact-->{ \"username\": 7 , \"obsname\": activity , \"obsdate\": \"2014-09-19 10:00:00\" , \"obsvalue\": 16672 , \"obsdesc\": \"Generated using R sysbatch procedure\" }"
[1] "Posting fact-->{ \"username\": 7 , \"obsname\": activity , \"obsdate\": \"2014-09-20 10:00:00\" , \"obsvalue\": 7133 , \"obsdesc\": \"Generated using R sysbatch procedure\" }"
[1] "Posting fact-->{ \"username\": 7 , \"obsname\": activity , \"obsdate\": \"2014-09-21 10:00:00\" , \"obsvalue\": 12829 , \"obsdesc\": \"Generated using R sysbatch procedure\" }"
[1] "Posting fact-->{ \"username\": 7 , \"obsname\": activity , \"obsdate\": \"2014-09-22 10:00:00\" , \"obsvalue\": 7669 , \"obsdesc\": \"Generated using R sysbatch procedure\" }"
[1] "Posting fact-->{ \"username\": 7 , \"obsname\": activity , \"obsdate\": \"2014-09-23 10:00:00\" , \"obsvalue\": 7261 , \"obsdesc\": \"Generated using R sysbatch procedure\" }"
[1] "Posting fact-->{ \"username\": 7 , \"obsname\": activity , \"obsdate\": \"2014-09-24 10:00:00\" , \"obsvalue\": 10323 , \"obsdesc\": \"Generated using R sysbatch procedure\" }"
[1] "Posting fact-->{ \"username\": 7 , \"obsname\": activity , \"obsdate\": \"2014-09-25 10:00:00\" , \"obsvalue\": 5073 , \"obsdesc\": \"Generated using R sysbatch procedure\" }"
[1] "Posting fact-->{ \"username\": 7 , \"obsname\": activity , \"obsdate\": \"2014-09-26 10:00:00\" , \"obsvalue\": 11189 , \"obsdesc\": \"Generated using R sysbatch procedure\" }"
[1] "Posting fact-->{ \"username\": 7 , \"obsname\": activity , \"obsdate\": \"2014-09-27 10:00:00\" , \"obsvalue\": 10376 , \"obsdesc\": \"Generated using R sysbatch procedure\" }"
[1] "Posting fact-->{ \"username\": 7 , \"obsname\": activity , \"obsdate\": \"2014-09-28 10:00:00\" , \"obsvalue\": 10599 , \"obsdesc\": \"Generated using R sysbatch procedure\" }"
[1] "Posting fact-->{ \"username\": 7 , \"obsname\": activity , \"obsdate\": \"2014-09-29 10:00:00\" , \"obsvalue\": 16329 , \"obsdesc\": \"Generated using R sysbatch procedure\" }"
[1] "Posting fact-->{ \"username\": 7 , \"obsname\": activity , \"obsdate\": \"2014-09-30 10:00:00\" , \"obsvalue\": 19377 , \"obsdesc\": \"Generated using R sysbatch procedure\" }"
[1] "Posting fact-->{ \"username\": 7 , \"obsname\": activity , \"obsdate\": \"2014-10-01 10:00:00\" , \"obsvalue\": 8798 , \"obsdesc\": \"Generated using R sysbatch procedure\" }"
[1] "Posting fact-->{ \"username\": 7 , \"obsname\": activity , \"obsdate\": \"2014-10-02 10:00:00\" , \"obsvalue\": 13819 , \"obsdesc\": \"Generated using R sysbatch procedure\" }"
[1] "Posting fact-->{ \"username\": 7 , \"obsname\": activity , \"obsdate\": \"2014-10-03 10:00:00\" , \"obsvalue\": 10157 , \"obsdesc\": \"Generated using R sysbatch procedure\" }"
[1] "Posting fact-->{ \"username\": 7 , \"obsname\": activity , \"obsdate\": \"2014-10-04 10:00:00\" , \"obsvalue\": 16692 , \"obsdesc\": \"Generated using R sysbatch procedure\" }"
[1] "Posting fact-->{ \"username\": 7 , \"obsname\": activity , \"obsdate\": \"2014-10-05 11:00:00\" , \"obsvalue\": 10640 , \"obsdesc\": \"Generated using R sysbatch procedure\" }"
[1] "Posting fact-->{ \"username\": 7 , \"obsname\": activity , \"obsdate\": \"2014-10-06 11:00:00\" , \"obsvalue\": 10003 , \"obsdesc\": \"Generated using R sysbatch procedure\" }"
[1] "Posting fact-->{ \"username\": 7 , \"obsname\": activity , \"obsdate\": \"2014-10-07 11:00:00\" , \"obsvalue\": 11155 , \"obsdesc\": \"Generated using R sysbatch procedure\" }"
[1] "Posting fact-->{ \"username\": 7 , \"obsname\": activity , \"obsdate\": \"2014-10-08 11:00:00\" , \"obsvalue\": 7977 , \"obsdesc\": \"Generated using R sysbatch procedure\" }"
[1] "Posting fact-->{ \"username\": 7 , \"obsname\": activity , \"obsdate\": \"2014-10-09 11:00:00\" , \"obsvalue\": 13785 , \"obsdesc\": \"Generated using R sysbatch procedure\" }"
[1] "Posting fact-->{ \"username\": 7 , \"obsname\": activity , \"obsdate\": \"2014-10-10 11:00:00\" , \"obsvalue\": 9711 , \"obsdesc\": \"Generated using R sysbatch procedure\" }"
[1] "Posting fact-->{ \"username\": 7 , \"obsname\": activity , \"obsdate\": \"2014-10-11 11:00:00\" , \"obsvalue\": 8140 , \"obsdesc\": \"Generated using R sysbatch procedure\" }"
[1] "Posting fact-->{ \"username\": 7 , \"obsname\": activity , \"obsdate\": \"2014-10-12 11:00:00\" , \"obsvalue\": 11485 , \"obsdesc\": \"Generated using R sysbatch procedure\" }"
[1] "Posting fact-->{ \"username\": 7 , \"obsname\": activity , \"obsdate\": \"2014-10-13 11:00:00\" , \"obsvalue\": 7066 , \"obsdesc\": \"Generated using R sysbatch procedure\" }"
[1] "Posting fact-->{ \"username\": 7 , \"obsname\": activity , \"obsdate\": \"2014-10-14 11:00:00\" , \"obsvalue\": 16996 , \"obsdesc\": \"Generated using R sysbatch procedure\" }"
[1] "Posting fact-->{ \"username\": 7 , \"obsname\": activity , \"obsdate\": \"2014-10-15 11:00:00\" , \"obsvalue\": 0 , \"obsdesc\": \"Generated using R sysbatch procedure\" }"
[1] "Posting fact-->{ \"username\": 7 , \"obsname\": activity , \"obsdate\": \"2014-10-15 11:00:00\" , \"obsvalue\": 0 , \"obsdesc\": \"Generated using R sysbatch procedure\" }"

> getNudge(rooturl, programid, groupid = userid, factname = obsname, 
+     rulename = rulename)
[1] "[{\"id\":\"7\",\"ruledate\":\"2014-10-14\",\"rulemsg\":\"Nudge says that you averaged 10737.14 steps per day over the last 7 days\",\"rulename\":\"ruleAverageStepCount\",\"ruledata\":10737.142857142857}, {\"id\":\"7\",\"ruledate\":\"2014-10-14\",\"rulemsg\":\"Nudge says that you exceeded 10,000 steps 19 times in the past 30 days\",\"rulename\":\"ruleHighStepCount\",\"ruledata\":19}]"

> factouts <- getFactsystem(rooturl, programid, groupid = userid, 
+     factname = obsname)

> outputDF = c()

> for (factout in factouts) {
+     outputDF <- cbind(outputDF, c(id = fromJSON(factout$factjson)$id, 
+         rulename = fromJSON(factout$factjson) .... [TRUNCATED] 

> outputDF = data.frame(t(outputDF))

> optinruleviewDF <- getOptinruleviewDF(rooturl, programid, 
+     userid)

> outputDF <- outputDF[order(outputDF[, "rulename"]), 
+     ]

> outputDF <- subset(outputDF, outputDF[, "rulename"] %in% 
+     optinruleviewDF)

> smsDF <- outputDF

> today <- Sys.Date()

> if (!is.null(nrow(smsDF))) {
+     for (i in 1:nrow(smsDF)) {
+         print(smsDF[i, "rulename"])
+         rule <- getRule(rooturl, smsDF[i, "rul ..." ... [TRUNCATED] 
[1] ruleAverageStepCount
Levels: ruleAverageStepCount ruleHighStepCount
[1] "Posting msg-->{ \"programid\" :1, \"userid\" :7, \"ruleid\" :7, \"rulename\" :\"ruleAverageStepCount\", \"ruledate\" :\"2014-10-14\", \"msgtxt\" :\"Nudge says that you averaged 10737.14 steps per day over the last 7 days\" }"
[1] ruleHighStepCount
Levels: ruleAverageStepCount ruleHighStepCount
[1] "Posting msg-->{ \"programid\" :1, \"userid\" :7, \"ruleid\" :5, \"rulename\" :\"ruleHighStepCount\", \"ruledate\" :\"2014-10-14\", \"msgtxt\" :\"Nudge says that you exceeded 10,000 steps 19 times in the past 30 days\" }"
[1] "--->PUSHNOTIFICATION :7"

> user <- getUser(rooturl, userid)

> username <- user["username"]

> pushoveruser <- user["pushoveruser"]

> msgs <- getMsg(rooturl, programid, userid)

> for (msg in msgs) {
+     msgtxt <- paste(msg["msgtxt"], ". To opt-out from nudges visit: ", 
+         "http://www.satimetry.com/rulesettings.php", .... [TRUNCATED] 
{"status":1,"request":"d17be47813a703c8974a8eb11e2414b1"}{"status":1,"request":"e242ee4894745003c5142813c635ea79"}[1] "--->PLOTS :7"

> Sys.setenv(NOAWT = "true")

> library(RColorBrewer)

> user <- getUser(rooturl, userid)

> username <<- user["username"]

> userobsDF <- getUserobsDF(rooturl, programid, userid, 
+     obsname)

> obsvalues = as.numeric(as.character(userobsDF[, "obsvalue"]))

> fileName = paste(imagesdir, "/lifecoach/user/", username, 
+     "/activity.png", sep = "")

> png(paste(fileName, sep = ""), res = ppi, width = 5 * 
+     ppi, height = 4 * ppi, pointsize = 10, units = "px")

> brew = brewer.pal(3, "Set1")

> cols = rep(brew[1], length(obsvalues))

> cols[obsvalues > 10000] = brew[3]

> bp = barplot(obsvalues, ylim = c(0, max(obsvalues) * 
+     1.2), col = cols, axes = FALSE, xlab = "Date", ylab = "Steps")

> axis(1, at = bp, labels = c(substr(userobsDF[, "obsdate"], 
+     6, 10)), tick = FALSE, las = 2, line = -0.5, cex.axis = 0.6)

> axis(2, at = seq(0, max(obsvalues) * 1.2, 1000), las = 1, 
+     cex.axis = 0.6)

> abline(h = 10000, lty = 2)

> dev.off()
null device 
          1 
Do withings ...
Loading required package: methods
Loading required package: bitops
[1] "--->INSERTOBS --7"

> Sys.setenv(NOAWT = "true")

> library(httr)

> library(rjson)

> library("RCurl")

> user <- getUser(rooturl, userid)

> username <- user["username"]

> pushoveruser <- user["pushoveruser"]

> fitbitkey <- user["fitbitkey"]

> fitbitsecret <- user["fitbitsecret"]

> fitbitappname <- user["fitbitappname"]

> if (!is.na(fitbitkey)) {
+     token_url <- "http://api.fitbit.com/oauth/request_token"
+     access_url <- "http://api.fitbit.com/oauth/access_toke ..." ... [TRUNCATED] 
[1] "Posting userobs-->{ \"programid\" :1, \"userid\" :7, \"obsname\" :\"weight\", \"obsvalue\" :83.8, \"obsdesc\" :\"System generated from fitbit.com weight download\", \"obsdate\" :\"2014-09-15\", \"obstype\" : \"userobs\" }"
[1] "Posting userobs-->{ \"programid\" :1, \"userid\" :7, \"obsname\" :\"weight\", \"obsvalue\" :83.3, \"obsdesc\" :\"System generated from fitbit.com weight download\", \"obsdate\" :\"2014-09-15\", \"obstype\" : \"userobs\" }"
[1] "Posting userobs-->{ \"programid\" :1, \"userid\" :7, \"obsname\" :\"weight\", \"obsvalue\" :83.3, \"obsdesc\" :\"System generated from fitbit.com weight download\", \"obsdate\" :\"2014-09-16\", \"obstype\" : \"userobs\" }"
[1] "Posting userobs-->{ \"programid\" :1, \"userid\" :7, \"obsname\" :\"weight\", \"obsvalue\" :83.1, \"obsdesc\" :\"System generated from fitbit.com weight download\", \"obsdate\" :\"2014-09-18\", \"obstype\" : \"userobs\" }"
[1] "Posting userobs-->{ \"programid\" :1, \"userid\" :7, \"obsname\" :\"weight\", \"obsvalue\" :83.1, \"obsdesc\" :\"System generated from fitbit.com weight download\", \"obsdate\" :\"2014-09-19\", \"obstype\" : \"userobs\" }"
[1] "Posting userobs-->{ \"programid\" :1, \"userid\" :7, \"obsname\" :\"weight\", \"obsvalue\" :83, \"obsdesc\" :\"System generated from fitbit.com weight download\", \"obsdate\" :\"2014-09-20\", \"obstype\" : \"userobs\" }"
[1] "Posting userobs-->{ \"programid\" :1, \"userid\" :7, \"obsname\" :\"weight\", \"obsvalue\" :83.3, \"obsdesc\" :\"System generated from fitbit.com weight download\", \"obsdate\" :\"2014-09-21\", \"obstype\" : \"userobs\" }"
[1] "Posting userobs-->{ \"programid\" :1, \"userid\" :7, \"obsname\" :\"weight\", \"obsvalue\" :82.9, \"obsdesc\" :\"System generated from fitbit.com weight download\", \"obsdate\" :\"2014-09-21\", \"obstype\" : \"userobs\" }"
[1] "Posting userobs-->{ \"programid\" :1, \"userid\" :7, \"obsname\" :\"weight\", \"obsvalue\" :83.5, \"obsdesc\" :\"System generated from fitbit.com weight download\", \"obsdate\" :\"2014-09-22\", \"obstype\" : \"userobs\" }"
[1] "Posting userobs-->{ \"programid\" :1, \"userid\" :7, \"obsname\" :\"weight\", \"obsvalue\" :83.4, \"obsdesc\" :\"System generated from fitbit.com weight download\", \"obsdate\" :\"2014-09-22\", \"obstype\" : \"userobs\" }"
[1] "Posting userobs-->{ \"programid\" :1, \"userid\" :7, \"obsname\" :\"weight\", \"obsvalue\" :83.6, \"obsdesc\" :\"System generated from fitbit.com weight download\", \"obsdate\" :\"2014-09-23\", \"obstype\" : \"userobs\" }"
[1] "Posting userobs-->{ \"programid\" :1, \"userid\" :7, \"obsname\" :\"weight\", \"obsvalue\" :83, \"obsdesc\" :\"System generated from fitbit.com weight download\", \"obsdate\" :\"2014-09-24\", \"obstype\" : \"userobs\" }"
[1] "Posting userobs-->{ \"programid\" :1, \"userid\" :7, \"obsname\" :\"weight\", \"obsvalue\" :82.9, \"obsdesc\" :\"System generated from fitbit.com weight download\", \"obsdate\" :\"2014-09-25\", \"obstype\" : \"userobs\" }"
[1] "Posting userobs-->{ \"programid\" :1, \"userid\" :7, \"obsname\" :\"weight\", \"obsvalue\" :82.6, \"obsdesc\" :\"System generated from fitbit.com weight download\", \"obsdate\" :\"2014-09-26\", \"obstype\" : \"userobs\" }"
[1] "Posting userobs-->{ \"programid\" :1, \"userid\" :7, \"obsname\" :\"weight\", \"obsvalue\" :82.9, \"obsdesc\" :\"System generated from fitbit.com weight download\", \"obsdate\" :\"2014-09-27\", \"obstype\" : \"userobs\" }"
[1] "Posting userobs-->{ \"programid\" :1, \"userid\" :7, \"obsname\" :\"weight\", \"obsvalue\" :82.6, \"obsdesc\" :\"System generated from fitbit.com weight download\", \"obsdate\" :\"2014-09-28\", \"obstype\" : \"userobs\" }"
[1] "Posting userobs-->{ \"programid\" :1, \"userid\" :7, \"obsname\" :\"weight\", \"obsvalue\" :83, \"obsdesc\" :\"System generated from fitbit.com weight download\", \"obsdate\" :\"2014-10-08\", \"obstype\" : \"userobs\" }"
[1] "Posting userobs-->{ \"programid\" :1, \"userid\" :7, \"obsname\" :\"weight\", \"obsvalue\" :83, \"obsdesc\" :\"System generated from fitbit.com weight download\", \"obsdate\" :\"2014-10-09\", \"obstype\" : \"userobs\" }"
[1] "Posting userobs-->{ \"programid\" :1, \"userid\" :7, \"obsname\" :\"weight\", \"obsvalue\" :82.5, \"obsdesc\" :\"System generated from fitbit.com weight download\", \"obsdate\" :\"2014-10-10\", \"obstype\" : \"userobs\" }"
[1] "Posting userobs-->{ \"programid\" :1, \"userid\" :7, \"obsname\" :\"weight\", \"obsvalue\" :82.3, \"obsdesc\" :\"System generated from fitbit.com weight download\", \"obsdate\" :\"2014-10-11\", \"obstype\" : \"userobs\" }"
[1] "Posting userobs-->{ \"programid\" :1, \"userid\" :7, \"obsname\" :\"weight\", \"obsvalue\" :82.7, \"obsdesc\" :\"System generated from fitbit.com weight download\", \"obsdate\" :\"2014-10-12\", \"obstype\" : \"userobs\" }"
[1] "Posting userobs-->{ \"programid\" :1, \"userid\" :7, \"obsname\" :\"weight\", \"obsvalue\" :80.4, \"obsdesc\" :\"System generated from fitbit.com weight download\", \"obsdate\" :\"2014-10-13\", \"obstype\" : \"userobs\" }"
[1] "Posting userobs-->{ \"programid\" :1, \"userid\" :7, \"obsname\" :\"weight\", \"obsvalue\" :82.6, \"obsdesc\" :\"System generated from fitbit.com weight download\", \"obsdate\" :\"2014-10-13\", \"obstype\" : \"userobs\" }"
[1] "Posting userobs-->{ \"programid\" :1, \"userid\" :7, \"obsname\" :\"weight\", \"obsvalue\" :82.5, \"obsdesc\" :\"System generated from fitbit.com weight download\", \"obsdate\" :\"2014-10-14\", \"obstype\" : \"userobs\" }"
[1] "Posting userobs-->{ \"programid\" :1, \"userid\" :7, \"obsname\" :\"weight\", \"obsvalue\" :82.3, \"obsdesc\" :\"System generated from fitbit.com weight download\", \"obsdate\" :\"2014-10-15\", \"obstype\" : \"userobs\" }"
[1] "Posting userobs-->{ \"programid\" :1, \"userid\" :7, \"obsname\" :\"bmi\", \"obsvalue\" :29.01, \"obsdesc\" :\"System generated from fitbit.com bmi download\", \"obsdate\" :\"2014-09-15\", \"obstype\" : \"userobs\" }"
[1] "Posting userobs-->{ \"programid\" :1, \"userid\" :7, \"obsname\" :\"bmi\", \"obsvalue\" :28.85, \"obsdesc\" :\"System generated from fitbit.com bmi download\", \"obsdate\" :\"2014-09-15\", \"obstype\" : \"userobs\" }"
[1] "Posting userobs-->{ \"programid\" :1, \"userid\" :7, \"obsname\" :\"bmi\", \"obsvalue\" :28.83, \"obsdesc\" :\"System generated from fitbit.com bmi download\", \"obsdate\" :\"2014-09-16\", \"obstype\" : \"userobs\" }"
[1] "Posting userobs-->{ \"programid\" :1, \"userid\" :7, \"obsname\" :\"bmi\", \"obsvalue\" :28.79, \"obsdesc\" :\"System generated from fitbit.com bmi download\", \"obsdate\" :\"2014-09-18\", \"obstype\" : \"userobs\" }"
[1] "Posting userobs-->{ \"programid\" :1, \"userid\" :7, \"obsname\" :\"bmi\", \"obsvalue\" :28.77, \"obsdesc\" :\"System generated from fitbit.com bmi download\", \"obsdate\" :\"2014-09-19\", \"obstype\" : \"userobs\" }"
[1] "Posting userobs-->{ \"programid\" :1, \"userid\" :7, \"obsname\" :\"bmi\", \"obsvalue\" :28.74, \"obsdesc\" :\"System generated from fitbit.com bmi download\", \"obsdate\" :\"2014-09-20\", \"obstype\" : \"userobs\" }"
[1] "Posting userobs-->{ \"programid\" :1, \"userid\" :7, \"obsname\" :\"bmi\", \"obsvalue\" :28.85, \"obsdesc\" :\"System generated from fitbit.com bmi download\", \"obsdate\" :\"2014-09-21\", \"obstype\" : \"userobs\" }"
[1] "Posting userobs-->{ \"programid\" :1, \"userid\" :7, \"obsname\" :\"bmi\", \"obsvalue\" :28.72, \"obsdesc\" :\"System generated from fitbit.com bmi download\", \"obsdate\" :\"2014-09-21\", \"obstype\" : \"userobs\" }"
[1] "Posting userobs-->{ \"programid\" :1, \"userid\" :7, \"obsname\" :\"bmi\", \"obsvalue\" :28.92, \"obsdesc\" :\"System generated from fitbit.com bmi download\", \"obsdate\" :\"2014-09-22\", \"obstype\" : \"userobs\" }"
[1] "Posting userobs-->{ \"programid\" :1, \"userid\" :7, \"obsname\" :\"bmi\", \"obsvalue\" :28.88, \"obsdesc\" :\"System generated from fitbit.com bmi download\", \"obsdate\" :\"2014-09-22\", \"obstype\" : \"userobs\" }"
[1] "Posting userobs-->{ \"programid\" :1, \"userid\" :7, \"obsname\" :\"bmi\", \"obsvalue\" :28.93, \"obsdesc\" :\"System generated from fitbit.com bmi download\", \"obsdate\" :\"2014-09-23\", \"obstype\" : \"userobs\" }"
[1] "Posting userobs-->{ \"programid\" :1, \"userid\" :7, \"obsname\" :\"bmi\", \"obsvalue\" :28.73, \"obsdesc\" :\"System generated from fitbit.com bmi download\", \"obsdate\" :\"2014-09-24\", \"obstype\" : \"userobs\" }"
[1] "Posting userobs-->{ \"programid\" :1, \"userid\" :7, \"obsname\" :\"bmi\", \"obsvalue\" :28.7, \"obsdesc\" :\"System generated from fitbit.com bmi download\", \"obsdate\" :\"2014-09-25\", \"obstype\" : \"userobs\" }"
[1] "Posting userobs-->{ \"programid\" :1, \"userid\" :7, \"obsname\" :\"bmi\", \"obsvalue\" :28.61, \"obsdesc\" :\"System generated from fitbit.com bmi download\", \"obsdate\" :\"2014-09-26\", \"obstype\" : \"userobs\" }"
[1] "Posting userobs-->{ \"programid\" :1, \"userid\" :7, \"obsname\" :\"bmi\", \"obsvalue\" :28.7, \"obsdesc\" :\"System generated from fitbit.com bmi download\", \"obsdate\" :\"2014-09-27\", \"obstype\" : \"userobs\" }"
[1] "Posting userobs-->{ \"programid\" :1, \"userid\" :7, \"obsname\" :\"bmi\", \"obsvalue\" :28.59, \"obsdesc\" :\"System generated from fitbit.com bmi download\", \"obsdate\" :\"2014-09-28\", \"obstype\" : \"userobs\" }"
[1] "Posting userobs-->{ \"programid\" :1, \"userid\" :7, \"obsname\" :\"bmi\", \"obsvalue\" :28.73, \"obsdesc\" :\"System generated from fitbit.com bmi download\", \"obsdate\" :\"2014-10-08\", \"obstype\" : \"userobs\" }"
[1] "Posting userobs-->{ \"programid\" :1, \"userid\" :7, \"obsname\" :\"bmi\", \"obsvalue\" :28.74, \"obsdesc\" :\"System generated from fitbit.com bmi download\", \"obsdate\" :\"2014-10-09\", \"obstype\" : \"userobs\" }"
[1] "Posting userobs-->{ \"programid\" :1, \"userid\" :7, \"obsname\" :\"bmi\", \"obsvalue\" :28.56, \"obsdesc\" :\"System generated from fitbit.com bmi download\", \"obsdate\" :\"2014-10-10\", \"obstype\" : \"userobs\" }"
[1] "Posting userobs-->{ \"programid\" :1, \"userid\" :7, \"obsname\" :\"bmi\", \"obsvalue\" :28.5, \"obsdesc\" :\"System generated from fitbit.com bmi download\", \"obsdate\" :\"2014-10-11\", \"obstype\" : \"userobs\" }"
[1] "Posting userobs-->{ \"programid\" :1, \"userid\" :7, \"obsname\" :\"bmi\", \"obsvalue\" :28.63, \"obsdesc\" :\"System generated from fitbit.com bmi download\", \"obsdate\" :\"2014-10-12\", \"obstype\" : \"userobs\" }"
[1] "Posting userobs-->{ \"programid\" :1, \"userid\" :7, \"obsname\" :\"bmi\", \"obsvalue\" :27.85, \"obsdesc\" :\"System generated from fitbit.com bmi download\", \"obsdate\" :\"2014-10-13\", \"obstype\" : \"userobs\" }"
[1] "Posting userobs-->{ \"programid\" :1, \"userid\" :7, \"obsname\" :\"bmi\", \"obsvalue\" :28.59, \"obsdesc\" :\"System generated from fitbit.com bmi download\", \"obsdate\" :\"2014-10-13\", \"obstype\" : \"userobs\" }"
[1] "Posting userobs-->{ \"programid\" :1, \"userid\" :7, \"obsname\" :\"bmi\", \"obsvalue\" :28.55, \"obsdesc\" :\"System generated from fitbit.com bmi download\", \"obsdate\" :\"2014-10-14\", \"obstype\" : \"userobs\" }"
[1] "Posting userobs-->{ \"programid\" :1, \"userid\" :7, \"obsname\" :\"bmi\", \"obsvalue\" :28.49, \"obsdesc\" :\"System generated from fitbit.com bmi download\", \"obsdate\" :\"2014-10-15\", \"obstype\" : \"userobs\" }"
[1] "--->APPLYNUDGES --7"

> Sys.setenv(NOAWT = "true")

> library(rjson)

> userobsDF <- getUserobsDF(rooturl, programid, userid, 
+     obsname)

> userobss <- getUserobs(rooturl, programid, userid, 
+     obsname)

> delFact(rooturl, programid, groupid = userid, factname = obsname)
[1] ""

> postFact(rooturl, programid, groupid = userid, factname = obsname, 
+     userobsDF)
[1] "Posting fact-->{ \"username\": 7 , \"obsname\": bmi , \"obsdate\": \"2014-09-15 10:00:00\" , \"obsvalue\": 29.01 , \"obsdesc\": \"Generated using R sysbatch procedure\" }"
[1] "Posting fact-->{ \"username\": 7 , \"obsname\": bmi , \"obsdate\": \"2014-09-15 10:00:00\" , \"obsvalue\": 28.85 , \"obsdesc\": \"Generated using R sysbatch procedure\" }"
[1] "Posting fact-->{ \"username\": 7 , \"obsname\": bmi , \"obsdate\": \"2014-09-16 10:00:00\" , \"obsvalue\": 28.83 , \"obsdesc\": \"Generated using R sysbatch procedure\" }"
[1] "Posting fact-->{ \"username\": 7 , \"obsname\": bmi , \"obsdate\": \"2014-09-18 10:00:00\" , \"obsvalue\": 28.79 , \"obsdesc\": \"Generated using R sysbatch procedure\" }"
[1] "Posting fact-->{ \"username\": 7 , \"obsname\": bmi , \"obsdate\": \"2014-09-19 10:00:00\" , \"obsvalue\": 28.77 , \"obsdesc\": \"Generated using R sysbatch procedure\" }"
[1] "Posting fact-->{ \"username\": 7 , \"obsname\": bmi , \"obsdate\": \"2014-09-20 10:00:00\" , \"obsvalue\": 28.74 , \"obsdesc\": \"Generated using R sysbatch procedure\" }"
[1] "Posting fact-->{ \"username\": 7 , \"obsname\": bmi , \"obsdate\": \"2014-09-21 10:00:00\" , \"obsvalue\": 28.85 , \"obsdesc\": \"Generated using R sysbatch procedure\" }"
[1] "Posting fact-->{ \"username\": 7 , \"obsname\": bmi , \"obsdate\": \"2014-09-21 10:00:00\" , \"obsvalue\": 28.72 , \"obsdesc\": \"Generated using R sysbatch procedure\" }"
[1] "Posting fact-->{ \"username\": 7 , \"obsname\": bmi , \"obsdate\": \"2014-09-22 10:00:00\" , \"obsvalue\": 28.92 , \"obsdesc\": \"Generated using R sysbatch procedure\" }"
[1] "Posting fact-->{ \"username\": 7 , \"obsname\": bmi , \"obsdate\": \"2014-09-22 10:00:00\" , \"obsvalue\": 28.88 , \"obsdesc\": \"Generated using R sysbatch procedure\" }"
[1] "Posting fact-->{ \"username\": 7 , \"obsname\": bmi , \"obsdate\": \"2014-09-23 10:00:00\" , \"obsvalue\": 28.93 , \"obsdesc\": \"Generated using R sysbatch procedure\" }"
[1] "Posting fact-->{ \"username\": 7 , \"obsname\": bmi , \"obsdate\": \"2014-09-24 10:00:00\" , \"obsvalue\": 28.73 , \"obsdesc\": \"Generated using R sysbatch procedure\" }"
[1] "Posting fact-->{ \"username\": 7 , \"obsname\": bmi , \"obsdate\": \"2014-09-25 10:00:00\" , \"obsvalue\": 28.7 , \"obsdesc\": \"Generated using R sysbatch procedure\" }"
[1] "Posting fact-->{ \"username\": 7 , \"obsname\": bmi , \"obsdate\": \"2014-09-26 10:00:00\" , \"obsvalue\": 28.61 , \"obsdesc\": \"Generated using R sysbatch procedure\" }"
[1] "Posting fact-->{ \"username\": 7 , \"obsname\": bmi , \"obsdate\": \"2014-09-27 10:00:00\" , \"obsvalue\": 28.7 , \"obsdesc\": \"Generated using R sysbatch procedure\" }"
[1] "Posting fact-->{ \"username\": 7 , \"obsname\": bmi , \"obsdate\": \"2014-09-28 10:00:00\" , \"obsvalue\": 28.59 , \"obsdesc\": \"Generated using R sysbatch procedure\" }"
[1] "Posting fact-->{ \"username\": 7 , \"obsname\": bmi , \"obsdate\": \"2014-10-08 11:00:00\" , \"obsvalue\": 28.73 , \"obsdesc\": \"Generated using R sysbatch procedure\" }"
[1] "Posting fact-->{ \"username\": 7 , \"obsname\": bmi , \"obsdate\": \"2014-10-09 11:00:00\" , \"obsvalue\": 28.74 , \"obsdesc\": \"Generated using R sysbatch procedure\" }"
[1] "Posting fact-->{ \"username\": 7 , \"obsname\": bmi , \"obsdate\": \"2014-10-10 11:00:00\" , \"obsvalue\": 28.56 , \"obsdesc\": \"Generated using R sysbatch procedure\" }"
[1] "Posting fact-->{ \"username\": 7 , \"obsname\": bmi , \"obsdate\": \"2014-10-11 11:00:00\" , \"obsvalue\": 28.5 , \"obsdesc\": \"Generated using R sysbatch procedure\" }"
[1] "Posting fact-->{ \"username\": 7 , \"obsname\": bmi , \"obsdate\": \"2014-10-12 11:00:00\" , \"obsvalue\": 28.63 , \"obsdesc\": \"Generated using R sysbatch procedure\" }"
[1] "Posting fact-->{ \"username\": 7 , \"obsname\": bmi , \"obsdate\": \"2014-10-13 11:00:00\" , \"obsvalue\": 27.85 , \"obsdesc\": \"Generated using R sysbatch procedure\" }"
[1] "Posting fact-->{ \"username\": 7 , \"obsname\": bmi , \"obsdate\": \"2014-10-13 11:00:00\" , \"obsvalue\": 28.59 , \"obsdesc\": \"Generated using R sysbatch procedure\" }"
[1] "Posting fact-->{ \"username\": 7 , \"obsname\": bmi , \"obsdate\": \"2014-10-14 11:00:00\" , \"obsvalue\": 28.55 , \"obsdesc\": \"Generated using R sysbatch procedure\" }"
[1] "Posting fact-->{ \"username\": 7 , \"obsname\": bmi , \"obsdate\": \"2014-10-15 11:00:00\" , \"obsvalue\": 28.49 , \"obsdesc\": \"Generated using R sysbatch procedure\" }"
[1] "Posting fact-->{ \"username\": 7 , \"obsname\": bmi , \"obsdate\": \"2014-10-15 11:00:00\" , \"obsvalue\": 28.49 , \"obsdesc\": \"Generated using R sysbatch procedure\" }"

> getNudge(rooturl, programid, groupid = userid, factname = obsname, 
+     rulename = rulename)
[1] "[{\"id\":\"7\",\"ruledate\":\"2014-10-14\",\"rulemsg\":\"Nudge says that your BMI minimum was 27.85 over the past 30 days\",\"rulename\":\"ruleLowBmi\",\"ruledata\":27.85}, {\"id\":\"7\",\"ruledate\":\"2014-10-14\",\"rulemsg\":\"Nudge says that your BMI averaged 28.73 over the past 30 days\",\"rulename\":\"ruleAverageBmi\",\"ruledata\":28.72541666666667}, {\"id\":\"7\",\"ruledate\":\"2014-10-14\",\"rulemsg\":\"Nudge says that your BMI maximum was 29.01 over the past 30 days\",\"rulename\":\"ruleHighBmi\",\"ruledata\":29.01}]"

> factouts <- getFactsystem(rooturl, programid, groupid = userid, 
+     factname = obsname)

> outputDF = c()

> for (factout in factouts) {
+     outputDF <- cbind(outputDF, c(id = fromJSON(factout$factjson)$id, 
+         rulename = fromJSON(factout$factjson) .... [TRUNCATED] 

> outputDF = data.frame(t(outputDF))

> optinruleviewDF <- getOptinruleviewDF(rooturl, programid, 
+     userid)

> outputDF <- outputDF[order(outputDF[, "rulename"]), 
+     ]

> outputDF <- subset(outputDF, outputDF[, "rulename"] %in% 
+     optinruleviewDF)

> smsDF <- outputDF

> today <- Sys.Date()

> if (!is.null(nrow(smsDF))) {
+     for (i in 1:nrow(smsDF)) {
+         print(smsDF[i, "rulename"])
+         rule <- getRule(rooturl, smsDF[i, "rul ..." ... [TRUNCATED] 
[1] ruleAverageBmi
Levels: ruleAverageBmi ruleHighBmi ruleLowBmi
[1] "Posting msg-->{ \"programid\" :1, \"userid\" :7, \"ruleid\" :81, \"rulename\" :\"ruleAverageBmi\", \"ruledate\" :\"2014-10-14\", \"msgtxt\" :\"Nudge says that your BMI averaged 28.73 over the past 30 days\" }"
[1] ruleHighBmi
Levels: ruleAverageBmi ruleHighBmi ruleLowBmi
[1] "Posting msg-->{ \"programid\" :1, \"userid\" :7, \"ruleid\" :82, \"rulename\" :\"ruleHighBmi\", \"ruledate\" :\"2014-10-14\", \"msgtxt\" :\"Nudge says that your BMI maximum was 29.01 over the past 30 days\" }"
[1] ruleLowBmi
Levels: ruleAverageBmi ruleHighBmi ruleLowBmi
[1] "Posting msg-->{ \"programid\" :1, \"userid\" :7, \"ruleid\" :83, \"rulename\" :\"ruleLowBmi\", \"ruledate\" :\"2014-10-14\", \"msgtxt\" :\"Nudge says that your BMI minimum was 27.85 over the past 30 days\" }"
[1] "--->PUSHNOTIFICATION :7"

> user <- getUser(rooturl, userid)

> username <- user["username"]

> pushoveruser <- user["pushoveruser"]

> msgs <- getMsg(rooturl, programid, userid)

> for (msg in msgs) {
+     msgtxt <- paste(msg["msgtxt"], ". To opt-out from nudges visit: ", 
+         "http://www.satimetry.com/rulesettings.php", .... [TRUNCATED] 
{"status":1,"request":"723877d2ae132b7065d22ecea6f717b5"}{"status":1,"request":"85cbc1094da307a9b8c0bdda5beb8e79"}{"status":1,"request":"294ce42349d617cf69bd1f1ec8f1d1e9"}[1] "--->PLOTS :7"

> Sys.setenv(NOAWT = "true")

> library(RColorBrewer)

> user <- getUser(rooturl, userid)

> username <<- user["username"]

> userobsDF <- getUserobsDF(rooturl, programid, userid, 
+     obsname)

> obsvalues = as.numeric(as.character(userobsDF[, "obsvalue"]))

> obsdate <- as.POSIXct(userobsDF[, "obsdate"], format = "%Y-%m-%d %H:%M:%S")

> fileName = paste(imagesdir, "/lifecoach/user/", username, 
+     "/", obsname, ".png", sep = "")

> png(paste(fileName, sep = ""), res = ppi, width = 5 * 
+     ppi, height = 4 * ppi, pointsize = 10, units = "px")

> plot(obsdate, obsvalues, type = "b", axes = FALSE, 
+     ylab = obsname, ylim = c(floor(min(obsvalues)), ceiling(max(obsvalues))), 
+     xlim = c( .... [TRUNCATED] 

> axis(2, at = seq(floor(min(obsvalues)), ceiling(max(obsvalues)), 
+     0.25), las = 1, cex.axis = 0.6)

> axis(1, at = obsdate, labels = substr(obsdate, 6, 
+     10), cex.axis = 0.8, las = 2)

> if (obsname == "bmi") {
+     abline(h = 29, lty = 2)
+ }

> if (obsname == "weight") {
+     abline(h = 83, lty = 2)
+ }

> dev.off()
null device 
          1 
[1] "--->PLOTS :7"

> Sys.setenv(NOAWT = "true")

> library(RColorBrewer)

> user <- getUser(rooturl, userid)

> username <<- user["username"]

> userobsDF <- getUserobsDF(rooturl, programid, userid, 
+     obsname)

> obsvalues = as.numeric(as.character(userobsDF[, "obsvalue"]))

> obsdate <- as.POSIXct(userobsDF[, "obsdate"], format = "%Y-%m-%d %H:%M:%S")

> fileName = paste(imagesdir, "/lifecoach/user/", username, 
+     "/", obsname, ".png", sep = "")

> png(paste(fileName, sep = ""), res = ppi, width = 5 * 
+     ppi, height = 4 * ppi, pointsize = 10, units = "px")

> plot(obsdate, obsvalues, type = "b", axes = FALSE, 
+     ylab = obsname, ylim = c(floor(min(obsvalues)), ceiling(max(obsvalues))), 
+     xlim = c( .... [TRUNCATED] 

> axis(2, at = seq(floor(min(obsvalues)), ceiling(max(obsvalues)), 
+     0.25), las = 1, cex.axis = 0.6)

> axis(1, at = obsdate, labels = substr(obsdate, 6, 
+     10), cex.axis = 0.8, las = 2)

> if (obsname == "bmi") {
+     abline(h = 29, lty = 2)
+ }

> if (obsname == "weight") {
+     abline(h = 83, lty = 2)
+ }

> dev.off()
null device 
          1 
[master b07b4aa] dolifecoach crontab batch script
 Committer: Stefano Picozzi <StefanoPicozzi@TheNudgeMachine.local>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly:

    git config --global user.name "Your Name"
    git config --global user.email you@example.com

After doing this, you may fix the identity used for this commit with:

    git commit --amend --reset-author

 3 files changed, 0 insertions(+), 0 deletions(-)
 rewrite images/lifecoach/user/stefano/activity.png (97%)
 rewrite images/lifecoach/user/stefano/bmi.png (78%)
 rewrite images/lifecoach/user/stefano/weight.png (96%)
remote: Syncing git content to other proxy gears        
remote: Executing Jenkins build.        
remote: 
remote: You can track your build at https://jenkins-spicozzi.rhcloud.com/job/nudge-build        
remote: 
remote: Waiting for build to schedule.....................................Done        
remote: Waiting for job to complete...................................................................Done        
remote: SUCCESS        
remote: New build has been deployed.        
remote: -------------------------        
remote: Git Post-Receive Result: success        
remote: Deployment completed with status: success        
To ssh://53391eda500446b5f9000295@nudge-spicozzi.rhcloud.com/~/git/nudge.git/
   971b3f7..b07b4aa  master -> master
